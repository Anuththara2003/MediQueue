<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register New Token</title>
    <link rel="stylesheet" href="/StyleSheet/RegisterToken.css">
    <!-- <script src="../JS/RegisterToken.js"></script> -->

</head>
<body>

    <div class="dashboard-container">
        <h1>Patient Dashboard</h1>
        <p>Easily register your token.</p>
        <button id="openModalBtn" class="btn-primary">Register New Token</button>
    </div>

    <!-- The Modal -->
    <div id="registrationModal" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Register New Token</h2>

            <!-- Progress Bar -->
            <div class="progress-bar">
                <div class="progress-step active" data-step="1">Identification</div>
                <div class="progress-step" data-step="2">Patient Details</div>
                <div class="progress-step" data-step="3">Appointment</div>
                <div class="progress-step" data-step="4">Confirmation</div>
            </div>

            <!-- Form Steps -->
            <form id="tokenForm">
                <!-- Step 1: Patient Identification -->
                <div class="form-step active" id="step1">
                    <h3>Step 1: Patient Identification</h3>
                    <label for="mobileNumber">Mobile Number:</label>
                    <input type="tel" id="mobileNumber" name="mobileNumber" placeholder="e.g., 0771234567" required>
                    <p class="small-text">Enter your number and press 'Check'. If you are already registered, your details will be auto-filled.</p>
                </div>

                <!-- Step 2: Patient Details -->
                <div class="form-step" id="step2">
                    <h3>Step 2: New Patient Details</h3>
                    <label for="patientName">Full Name:</label>
                    <input type="text" id="patientName" name="patientName" required>
                    
                    <label for="dob">Date of Birth:</label>
                    <input type="date" id="dob" name="dob" required>

                    <label for="gender">Gender:</label>
                    <select id="gender" name="gender" required>
                        <option value="">Select...</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <!-- Step 3: Appointment Details -->
                <div class="form-step" id="step3">
                    <h3>Step 3: Appointment Details</h3>
                    <label for="doctor">Select Doctor:</label>
                    <select id="doctor" name="doctor" required>
                        <option value="">Select...</option>
                        <option value="Dr. A. Perera">Dr. A. Perera - Cardiologist</option>
                        <option value="Dr. B. Silva">Dr. B. Silva - Dermatologist</option>
                        <option value="Dr. C. Fernando">Dr. C. Fernando - General Practitioner</option>
                    </select>

                    <label for="appointmentDate">Date:</label>
                    <input type="date" id="appointmentDate" name="appointmentDate" required>

                    <label for="reason">Reason for Visit (Briefly):</label>
                    <textarea id="reason" name="reason" rows="3"></textarea>
                </div>

                <!-- Step 4: Confirmation -->
                <div class="form-step" id="step4">
                    <h3>Step 4: Confirm Your Details</h3>
                    <div class="confirmation-summary">
                        <p><strong>Patient Name:</strong> <span id="confirmName"></span></p>
                        <p><strong>Mobile Number:</strong> <span id="confirmMobile"></span></p>
                        <p><strong>Doctor:</strong> <span id="confirmDoctor"></span></p>
                        <p><strong>Date:</strong> <span id="confirmDate"></span></p>
                        <p><strong>Fee:</strong> <span id="confirmFee">LKR 2500.00</span></p>
                    </div>
                    <p>Please review the information above and press 'Confirm & Register'.</p>
                </div>

                <div class="modal-buttons">
                    <button type="button" class="btn-secondary" id="prevBtn" style="display: none;">Previous</button>
                    <button type="button" class="btn-primary" id="nextBtn">Next</button>
                    <button type="submit" class="btn-primary" id="submitBtn" style="display: none;">Confirm & Register</button>
                </div>
            </form>
        </div>
    </div>

   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../JS/RegisterToken.js"></script>
</body>
</html>